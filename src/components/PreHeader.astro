---
import '../styles/global.css';

// src/components/PreHeader.astro
import { site } from "../config/site"

const {
  phone,
  phoneHref,
  email,
  hours,
  socials,
} = site
---

<style>
  .preheader {
    display: flex;
    align-items: center;
    font-size: 18px;
    border-bottom: 1px solid rgba(0,0,0,0.06);
    background: #24a455;
    min-height: 50px;
    color: #fff;
  }
  .preheader .container {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 0.75rem;
    align-items: center;
    padding: 0.4rem 0.75rem;
    margin: 0 auto;
    max-width: 1400px;
  }

  .left, .right { display: flex; align-items: center; gap: 1rem; }
  .left { flex-wrap: wrap; }
  .right { justify-self: end; flex-wrap: wrap; }

  .item { display: inline-flex; align-items: center; gap: 0.4rem; white-space: nowrap; }

  a { text-decoration: none; color: inherit; }
  /* a:hover { text-decoration: underline; } */
  .phone-link:hover { text-decoration: none; }

  /* Simple icon-like dots. Replace with real icons later. */
  .dot { width: 0.5rem; height: 0.5rem; border-radius: 50%; background: currentColor; opacity: 0.5; }

  /* Mobile stacking */
  @media (max-width: 640px) {
    .preheader {
      height: auto;
    }
    .preheader .container {
      grid-template-columns: 1fr;
      padding-top: 0.6rem;
      padding-bottom: 0.6rem;
      justify-content: center;
      text-align: center;
    }
    .left {
      display: none;
    }
    .right {
      justify-self: center;
      justify-content: center;
      text-align: center;
      align-items: center;
    }
    .left, .right {
      justify-content: center;
      gap: 0.5rem;
    }
  }
</style>

<div class="preheader" role="region" aria-label="Top info bar">
  <div class="container">
    <div class="left">
      {hours && (
        <span class="item" aria-label="Business hours">
          <span class="dot" aria-hidden="true"></span>
          <span>{hours}</span>
        </span>
      )}
      {email && (
        <a class="item" href={`mailto:${email}`} aria-label="Email">
          <span class="dot" aria-hidden="true"></span>
          <span>{email}</span>
        </a>
      )}
    </div>

    <div class="right">
      {phone && (
        <span class="item" aria-label="Call today">
          <span>Call Today: </span>
          <a class="phone-link" href={phoneHref}><strong>{phone}</strong></a>
        </span>
      )}
    </div>
  </div>
</div>